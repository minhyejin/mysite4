<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace= "board">
	<select id = "selectList" resultType = "com.javaex.vo.BoardVo">
			<![CDATA[
		  select b.no, b.title, b.writer , u.name as userName , b.content, 
		    	 to_char(b.reg_date,'YYYY-MM-DD HH:MM ') regDate, b.hit , u.no user_no
		   from board b, users u
		  where b.user_no = u.no
		  order by b.no desc 
			]]>
	</select>	
	
		<select id = "getArticle" resultType = "com.javaex.vo.BoardVo">
			<![CDATA[
		  select no , title , content ,  user_no , reg_date, writer,  hit  
		  from board 
		  where no = #{no} 
			]]>
	</select>	
	
	<insert id = "insert"  parameterType= "com.javaex.vo.GuestbookVo">
		<![CDATA[
		  	insert into board 
			values (seq_board_no.nextval, #{title} , #{content}  , #{userNo} , sysdate , #{writer}, 0 ) 
				]]>
	</insert>
	

	<update id = "view"  parameterType= "com.javaex.vo.GuestbookVo">
		<![CDATA[
		update board
		SET hit = hit + 1 
		WHERE no = #{no}
		]]>
	</update>
	
</mapper>